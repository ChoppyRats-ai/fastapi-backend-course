# Хранение состояния и его минусы

## Хранение локально

1. Потеря данных, если сервер перезапустится + уязвимость
2. Невозможно масштабировать приложения, из-за локальной копии данных

## Хранение в файле
1. Теперь данные сохранятся, даже если перезапустить сервер
2. Легко реализуемо
3. Не избавились от хранения состояния
4. БД, облако

## Проблема состояния гонки 

Ошибка проектирования многопоточной системы.
Т.е. если несколько юзеров попытается обновить или удалить задачу, это может привести к потере данных.

### Решение

1. БД с поддержкой транзакций.
2. Использовать очередь запросов
3. Реализовать блокировку записи, проверяя ее перед обновлением
